Log file created at 6/9/2024 2:15:29 PM
AmbDbConnection: executing non-query `CREATE OR ALTER PROCEDURE [dbo].[sp_GetNextOid]
(@oid BIGINT OUTPUT)
AS
SET NOCOUNT ON
BEGIN
SELECT @oid = [NextOID] FROM [t_AMBenchmarkSystem] WITH(TABLOCKX, HOLDLOCK);
UPDATE [t_AMBenchmarkSystem] SET [NextOID] = ([NextOID] + 1);
END`
AmbDbConnection: nonquery command result -1
AmbDbConnection: executing non-query `GRANT EXEC ON AMBenchmark_DB.[dbo].[sp_GetNextOid] TO PUBLIC`
AmbDbConnection: Exception
System.Data.SqlClient.SqlException (0x80131904): Cannot find the object 'sp_GetNextOid', because it does not exist or you do not have permission.
at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
at System.Data.SqlClient.SqlCommand.RunExecuteNonQueryTds(String methodName, Boolean async, Int32 timeout, Boolean asyncWrite)
at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
at AmbHelper.AmbDbConnection.ExecuteNonQuery(String sql) in C:\AMB\AmbUtilities\AmbHelper\AmbDbConnection.cs:line 128
ClientConnectionId:5af861d0-946c-421e-ac35-d987c90bf653
Error Number:15151,State:1,Class:16
AmbDbConnection: executing non-query `CREATE OR ALTER VIEW [dbo].[vw_TaxonomyNode]
AS
SELECT A.[OID], A.[PID], A.[Index], A.[Name], A.[Table], T.[Type]
FROM
(
SELECT P.[OID], P.[PID], P.[Index], P.[Name], 't_TaxonomyNodeProcess' AS [Table] FROM [dbo].[t_TaxonomyNodeProcess] P
UNION
SELECT Q.[OID], Q.[PID], Q.[Index], Q.[Name], 't_TaxonomyNodeProcessGroup' AS [Table] FROM [dbo].[t_TaxonomyNodeProcessGroup] Q
UNION
SELECT F.[OID], F.[PID], F.[Index], F.[Name], 't_TaxonomyNodeFunction' AS [Table] FROM [dbo].[t_TaxonomyNodeFunction] F
UNION
SELECT G.[OID], G.[PID], G.[Index], G.[Name], 't_TaxonomyNodeFunctionGroup' AS [Table] FROM [dbo].[t_TaxonomyNodeFunctionGroup] G
UNION
SELECT A.[OID], A.[PID], A.[Index], A.[Name], 't_TaxonomyNodeActivity' AS [Table] FROM [dbo].[t_TaxonomyNodeActivity] A
) AS A
JOIN t_TaxonomyNode T ON T.[OID] = A.[OID]`
AmbDbConnection: nonquery command result -1
AmbDbConnection: executing reader `SELECT [OID], [Name] FROM [dbo].[vw_TaxonomyNode] WHERE PID = 100000 AND [Index] = 0`
AmbDbConnection: reader succeeded
AmbDbConnection: reader finished
AmbDbConnection: executing reader `SELECT [OID], [Name] FROM [dbo].[vw_TaxonomyNode] WHERE PID = 100000 AND [Index] = 0`
AmbDbConnection: reader succeeded
AmbDbConnection: reader finished
AmbDbConnection: executing reader `SELECT [OID], [Name] FROM [dbo].[vw_TaxonomyNode] WHERE PID = 100001 AND [Index] = 0`
AmbDbConnection: reader succeeded
AmbDbConnection: reader finished
AmbDbConnection: executing reader `SELECT [OID], [Name] FROM [dbo].[vw_TaxonomyNode] WHERE PID = 100000 AND [Index] = 0`
AmbDbConnection: reader succeeded
AmbDbConnection: reader finished
AmbDbConnection: executing reader `SELECT [OID], [Name] FROM [dbo].[vw_TaxonomyNode] WHERE PID = 100001 AND [Index] = 1`
AmbDbConnection: reader succeeded
AmbDbConnection: reader finished
AmbDbConnection: executing reader `SELECT [OID], [Name] FROM [dbo].[vw_TaxonomyNode] WHERE PID = 100000 AND [Index] = 0`
AmbDbConnection: reader succeeded
AmbDbConnection: reader finished
AmbDbConnection: executing reader `SELECT [OID], [Name] FROM [dbo].[vw_TaxonomyNode] WHERE PID = 100001 AND [Index] = 2`
AmbDbConnection: reader succeeded
AmbDbConnection: reader finished
